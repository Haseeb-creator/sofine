import{r as n,j as t,a as F,A as H}from"./index-DpxEDXFf.js";import{M as U,i as S,u as L,P as W,a as D,b as J,L as K,m as O}from"./proxy-CpviGMXc.js";function z(e,a){if(typeof e=="function")return e(a);e!=null&&(e.current=a)}function _(...e){return a=>{let s=!1;const i=e.map(d=>{const l=z(d,a);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let d=0;d<i.length;d++){const l=i[d];typeof l=="function"?l():z(e[d],null)}}}}function B(...e){return n.useCallback(_(...e),e)}class G extends n.Component{getSnapshotBeforeUpdate(a){const s=this.props.childRef.current;if(s&&a.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=s.offsetParent,d=S(i)&&i.offsetWidth||0,l=S(i)&&i.offsetHeight||0,r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft,r.right=d-r.width-r.left,r.bottom=l-r.height-r.top}return null}componentDidUpdate(){}render(){return this.props.children}}function V({children:e,isPresent:a,anchorX:s,anchorY:i,root:d,pop:l}){const r=n.useId(),m=n.useRef(null),o=n.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:x}=n.useContext(U),h=e.props?.ref??e?.ref,C=B(m,h);return n.useInsertionEffect(()=>{const{width:u,height:p,top:g,left:y,right:v,bottom:R}=o.current;if(a||l===!1||!m.current||!u||!p)return;const M=s==="left"?`left: ${y}`:`right: ${v}`,E=i==="bottom"?`bottom: ${R}`:`top: ${g}`;m.current.dataset.motionPopId=r;const f=document.createElement("style");x&&(f.nonce=x);const j=d??document.head;return j.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${p}px !important;
            ${M}px !important;
            ${E}px !important;
          }
        `),()=>{j.contains(f)&&j.removeChild(f)}},[a]),t.jsx(G,{isPresent:a,childRef:m,sizeRef:o,pop:l,children:l===!1?e:n.cloneElement(e,{ref:C})})}const X=({children:e,initial:a,isPresent:s,onExitComplete:i,custom:d,presenceAffectsLayout:l,mode:r,anchorX:m,anchorY:o,root:x})=>{const h=L(Y),C=n.useId();let u=!0,p=n.useMemo(()=>(u=!1,{id:C,initial:a,isPresent:s,custom:d,onExitComplete:g=>{h.set(g,!0);for(const y of h.values())if(!y)return;i&&i()},register:g=>(h.set(g,!1),()=>h.delete(g))}),[s,h,i]);return l&&u&&(p={...p}),n.useMemo(()=>{h.forEach((g,y)=>h.set(y,!1))},[s]),n.useEffect(()=>{!s&&!h.size&&i&&i()},[s]),e=t.jsx(V,{pop:r==="popLayout",isPresent:s,anchorX:m,anchorY:o,root:x,children:e}),t.jsx(W.Provider,{value:p,children:e})};function Y(){return new Map}const N=e=>e.key||"";function I(e){const a=[];return n.Children.forEach(e,s=>{n.isValidElement(s)&&a.push(s)}),a}const q=({children:e,custom:a,initial:s=!0,onExitComplete:i,presenceAffectsLayout:d=!0,mode:l="sync",propagate:r=!1,anchorX:m="left",anchorY:o="top",root:x})=>{const[h,C]=D(r),u=n.useMemo(()=>I(e),[e]),p=r&&!h?[]:u.map(N),g=n.useRef(!0),y=n.useRef(u),v=L(()=>new Map),R=n.useRef(new Set),[M,E]=n.useState(u),[f,j]=n.useState(u);J(()=>{g.current=!1,y.current=u;for(let b=0;b<f.length;b++){const c=N(f[b]);p.includes(c)?(v.delete(c),R.current.delete(c)):v.get(c)!==!0&&v.set(c,!1)}},[f,p.length,p.join("-")]);const k=[];if(u!==M){let b=[...u];for(let c=0;c<f.length;c++){const w=f[c],P=N(w);p.includes(P)||(b.splice(c,0,w),k.push(w))}return l==="wait"&&k.length&&(b=k),j(I(b)),E(u),null}const{forceRender:T}=n.useContext(K);return t.jsx(t.Fragment,{children:f.map(b=>{const c=N(b),w=r&&!h?!1:u===f||p.includes(c),P=()=>{if(R.current.has(c))return;if(R.current.add(c),v.has(c))v.set(c,!0);else return;let $=!0;v.forEach(A=>{A||($=!1)}),$&&(T?.(),j(y.current),r&&C?.(),i&&i())};return t.jsx(X,{isPresent:w,initial:!g.current||s?void 0:!1,custom:a,presenceAffectsLayout:d,mode:l,root:x,onExitComplete:w?void 0:P,anchorX:m,anchorY:o,children:b},c)})})},ee=()=>{const[e,a]=n.useState("Fresh Juices"),[s,i]=n.useState([]),[d,l]=n.useState(!0),r=["Fresh Juices","Milkshakes","Smoothies","Seasonal Specials"];n.useEffect(()=>{(async()=>{try{const{data:x}=await F.get(`${H}/api/menu`);i(x)}catch(x){console.error("Error fetching menu items",x)}finally{l(!1)}})()},[]);const m=s.filter(o=>o.category===e);return t.jsxs("section",{id:"menu",className:"section-padding bg-brand-bg relative",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-brand-green/10 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-brand-orange/10 rounded-full blur-3xl"}),t.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12 relative z-10",children:[t.jsx("span",{className:"text-brand-orange font-semibold uppercase tracking-wider text-sm mb-2 block",children:"Our Menu"}),t.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Taste the ",t.jsx("span",{className:"text-brand-green",children:"Freshness"})]})]}),t.jsx("div",{className:"flex flex-wrap justify-center gap-2 md:gap-4 mb-12 relative z-10",children:r.map(o=>t.jsx("button",{onClick:()=>a(o),className:`px-6 py-3 rounded-full text-sm font-semibold transition-all duration-300 ${e===o?"bg-brand-dark text-white shadow-md":"bg-white text-gray-500 hover:bg-gray-50"}`,children:o},o))}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative z-10 min-h-[400px]",children:t.jsx(q,{mode:"popLayout",children:d?t.jsx("div",{className:"col-span-full flex justify-center py-20",children:t.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-brand-green/20 border-t-brand-green animate-spin"})}):m.map(o=>t.jsxs(O.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"bg-white rounded-3xl overflow-hidden shadow-sm hover:shadow-soft transition-shadow border border-gray-100 group flex flex-col",children:[t.jsxs("div",{className:"relative h-48 overflow-hidden",children:[t.jsx("img",{loading:"lazy",src:o.image,alt:o.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),t.jsx("div",{className:"absolute top-4 right-4 bg-brand-orange text-white text-sm font-bold px-3 py-1 rounded-full shadow-md",children:o.price})]}),t.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[t.jsx("h3",{className:"font-display font-bold text-xl text-brand-dark mb-2",children:o.name}),t.jsx("p",{className:"text-gray-500 text-sm mb-4 flex-1",children:o.description}),t.jsx("button",{className:"w-full py-3 rounded-xl border-2 border-brand-green text-brand-green font-semibold hover:bg-brand-green hover:text-white transition-colors",children:"Add to Order"})]})]},o.id))})})]})};export{ee as default};
